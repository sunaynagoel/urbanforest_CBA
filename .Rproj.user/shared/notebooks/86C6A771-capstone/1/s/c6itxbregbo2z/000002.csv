"0","renderValueBox({"
"0","  input.dat <- dat %>% "
"0","  filter (species %in% tolower(input$species_trees))"
"0","# filter type convenient "
"0","filtered.dat <-input.dat %>% "
"0","  filter (correct_vs_convenient %in% tolower(input$planting_method)) "
"0",""
"0","# calculate the carbon reduced by the tree by convenient installation "
"0",""
"0","carbon_generated <- round((as.numeric(input$lbs_carbon) * input$num_trips))"
"0",""
"0","# number of trees needed to offset carbon "
"0",""
"0","n_tree <- round ((as.numeric(input$lbs_carbon)/sum(filtered.dat$co2reduction_lb)) * input$num_trips)"
"0",""
"0","if (n_tree <= 0)"
"0","{"
"0","  n_tree <- 1"
"0","}"
"0","          valueBox(n_tree, "
"0","           icon = ""fas fa-tree"","
"0","           color = ifelse( carbon_generated > 1, ""green"", ""primary"") )"
"0","}"
"0","  "
"0",")"
"1","<shiny.render.function> 
"
